# Пагинатор

## Функциональность в виджете (таблица):
* с сервера данные приходят пачками по N строк, а не всё сразу
* при переключении страницы, с сервера запрашивается следующая пачка данных
* отображается текущее состояние таблицы (с какой строки по какую отображаются данные, сколько всего строк в таблице)
* количество строк на странице фиксированное и составляет 10 строк (?)  
  * ? может быть нужно дать возможность выбора количества строк на странице ?  
  * ? и вообще возможность включения-отключения постраничного вывода ?
* при пагинации виджет перерисовывается. он должен скрываться за индикатором загрузки (как при изменении параметров визуализации) до тех пор, пока все данные не загрузятся

## Функциональность в дашборде:
* при клике на строку одной таблицы, другие, связанные с ней, таблицы перерисовываются, а их пагинация сбрасывается до начального состояния (первая страница)
* если была выбрана какая-то строка, то при перелистывании выделение должно быть только на выбранной строке/ячейке
  * в сгруппированной таблице при клике на строку выделяется вся строка
  * в несгруппированной таблице при клике на ячейку выделяются все ячейки в столбце с выбранным значением



## Формат запроса на сервер:

### Для получения общего количества строк 
(вызывается 1 раз при изменении параметров визуализации)
- Отправляем запрос без параметров `page` и `pageSize`

### Для получения одной страницы 
```
page: number,
pageSize: number,
```

### Чтобы при изменении параметров визуализации счетчик страниц обнулялся
```
config: {
    data: {
        shared: {
                paginateInfo: {
                    page: 0,
                    pageSize: 10,
                },
                ...
        }
    }
}
```


## Ожидаемый формат ответа с сервера:
```
data: {
    rows: array,
    head: array,
    rowsCount: number,
    ...
}
```



## Что проверить: 
* работа стрелки вперед/назад
  * отправляется запрос с корректными данными
  * стрелка недоступна для нажатия, если к ней применен стиль "disabled"
  * корректное отображение текущего состояния страниц
  * если фактическое количество строк меньше, чем запрашиваемое (например, последние страницы обычно не по 10 строк, а меньше), то это число строк должно быть корректно отражено в строке состояния пагинатора

* при переходе на другую страницу таблицы, таблица скрывается за индикатором загрузки до тех пор, пока всё не подгрузится. промежуточные вычисления состояния страниц не отображаются. 

* при изменении параметров визуализации для таблицы, счетчик страниц сбрасывается на значение по умолчанию

* внешний вид таблицы при уменьшении размера окна 
  * уменьшение до состояния, когда появляется прокрутка в таблице
  * пагинатор должен быть строго под таблицей
  
* внешний вид пагинатора в дашборде
  * пагинатор не должен вылазить за границы виджета
  * при клике на строку таблицы, связанные таблицы перерисовываются
  * выделяется только та строка/ячейка, данные которой совпадают с той, по которой кликали
